<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "https://solus-project.com/standard/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>openssh</Name>
        <Homepage>http://www.openssh.org</Homepage>
        <Packager>
            <Name>Ikey Doherty</Name>
            <Email>ikey.doherty@gmail.com</Email>
        </Packager>
        <Summary>OpenSSH (OpenBSD Secure Shell)</Summary>
        <Description>OpenSSH is a free version of secure shell tools developed by the OpenBSD project to help facilitate secure connections and communications.</Description>
        <License>BSD</License>
        <Archive sha1sum="5e8f185d00afb4f4f89801e9b0f8b9cee9d87ebd" type="targz">http://mirror.internode.on.net/pub/OpenBSD/OpenSSH/portable/openssh-7.5p1.tar.gz</Archive>

        <BuildDependencies>
                <Dependency>xauth</Dependency>
        </BuildDependencies>
    </Source>

    <Package>
        <Name>openssh-server</Name>
        <Summary>OpenSSH daemon</Summary>
        <Description>OpenSSH daemon provides a daemon to enable remote connections via the ssh/sftp protocols</Description>
        <Files>
            <Path fileType="executable">/usr/sbin</Path>
            <Path fileType="executable">/usr/libexec/sftp*</Path>
            <Path fileType="data">/var/empty/sshd</Path>
            <Path fileType="executable">/var/lib/sshd</Path>
            <Path fileType="data">/usr/lib/systemd/system</Path>
            <Path fileType="config">/etc/ssh/sshd_config</Path>
        </Files>
        <AdditionalFiles>
            <AdditionalFile permission="0644" target="/usr/lib/systemd/system/sshd.service">sshd.service</AdditionalFile>
            <AdditionalFile permission="0644" target="/usr/lib/systemd/system/sshd@.service">sshd@.service</AdditionalFile>
            <AdditionalFile permission="0644" target="/etc/pam.d/sshd">sshd.pam</AdditionalFile>
        </AdditionalFiles>
        <Provides>
            <COMAR script="package.py">System.Package</COMAR>
        </Provides>
        <RuntimeDependencies>
            <Dependency release="current">openssh</Dependency>
        </RuntimeDependencies>
    </Package>

    <Package>
        <Name>openssh</Name>
        <Files>
            <Path fileType="executable">/usr/bin</Path>
            <Path fileType="man">/usr/share/man</Path>
            <Path fileType="executable">/usr/libexec/ssh*</Path>
            <Path fileType="data">/etc/ssh/moduli</Path>
            <Path fileType="config">/etc/ssh/ssh_config</Path>
            <Path fileType="data">/etc/pam.d/sshd</Path>
        </Files>
        <RuntimeDependencies>
                <Dependency>xauth</Dependency>
        </RuntimeDependencies>
    </Package>

    <History>
        <Update release="19">
            <Date>04-24-2017</Date>
            <Version>7.5_p1</Version>
            <Comment>Fix dependency version so can be installed</Comment>
            <Name>Peter O'Connor</Name>
            <Email>peter@solus-project.com</Email>
        </Update>

        <Update release="18">
            <Date>04-24-2017</Date>
            <Version>7.5_p1</Version>
            <Comment>Enable xauth path</Comment>
            <Name>Peter O'Connor</Name>
            <Email>peter@solus-project.com</Email>
        </Update>

        <Update release="17">
            <Date>04-10-2017</Date>
            <Version>7.5_p1</Version>
            <Comment>Update to 7.5_p1, enable ssh-copy-id</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="16">
            <Date>12-20-2016</Date>
            <Version>7.4_p1</Version>
            <Comment>Update to 7.4_p1</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="15">
            <Date>08-02-2016</Date>
            <Version>7.3_p1</Version>
            <Comment>Update to 7.3p1</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="14">
            <Date>03-11-2016</Date>
            <Version>7.2_p2</Version>
            <Comment>Update to 7.2_p2</Comment>
            <Name>Joshua Strobl</Name>
            <Email>joshua.strobl@outlook.com</Email>
        </Update>

        <Update release="13">
            <Date>03-07-2016</Date>
            <Version>7.1_p2</Version>
            <Comment>Package bump</Comment>
            <Name>Justin Zobel</Name>
            <Email>justin@solus-project.com</Email>
        </Update>

        <Update release="12">
            <Date>03-07-2016</Date>
            <Version>7.1_p2</Version>
            <Comment>Package bump</Comment>
            <Name>Justin Zobel</Name>
            <Email>justin@solus-project.com</Email>
        </Update>

        <Update release="11">
            <Date>01-14-2016</Date>
            <Version>7.1_p2</Version>
            <Comment>Update to 7.1p2</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="10" type="security">
            <Date>07-23-2015</Date>
            <Version>6.9_p1</Version>
            <Comment>Address CVE-2015-5600</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="9">
            <Date>07-23-2015</Date>
            <Version>6.9_p1</Version>
            <Comment>Update to 6.9p1</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="8">
            <Date>06-22-2015</Date>
            <Version>6.8</Version>
            <Comment>Package bump</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solus-project.com</Email>
        </Update>

        <Update release="7">
            <Date>05-21-2015</Date>
            <Version>6.8</Version>
            <Comment>Update to 6.8</Comment>
            <Name>Solus Packaging Team</Name>
            <Email>packaging@solus-project.com</Email>
        </Update>

        <Update release="6" type="security">
            <Date>10-13-2014</Date>
            <Version>6.7</Version>
            <Comment>CVE-2014-2653</Comment>
            <Name>Justin Zobel</Name>
            <Email>justin.zobel@gmail.com</Email>
        </Update>

        <Update release="5">
            <Date>07-03-2014</Date>
            <Version>6.6</Version>
            <Comment>Update to 6.6p1, split server into separate package</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey.doherty@gmail.com</Email>
        </Update>

        <Update release="4">
            <Date>06-16-2013</Date>
            <Version>6.1</Version>
            <Comment>Create sshd user and host keys when installed</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solusos.com</Email>
        </Update>

        <Update release="3">
            <Date>06-16-2013</Date>
            <Version>6.1</Version>
            <Comment>Add systemd service files</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solusos.com</Email>
        </Update>

        <Update release="2">
            <Date>04-08-2013</Date>
            <Version>6.1</Version>
            <Comment>Add binary dependencies</Comment>
            <Name>Ikey Doherty</Name>
            <Email>ikey@solusos.com</Email>
        </Update>

        <Update release="1">
            <Date>03-11-2013</Date>
            <Version>6.1</Version>
            <Comment>Add openssh to repositories</Comment>
            <Name>Justin Krehel</Name>
            <Email>justin@solusos.com</Email>
        </Update>
    </History>
</PISI>
